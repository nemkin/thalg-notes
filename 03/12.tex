\subsection{Session 3, Exercise 12}

\lineparagraph{Exercises}

Determine the language generated by this grammar.

\begin{align*}
R &\rightarrow XRX | S\\
S &\rightarrow aTb | bTa\\
T &\rightarrow XTX | X | \varepsilon\\
X &\rightarrow a | b
\end{align*}

\lineparagraph{Solution}

Let's get rid of $X$ first:

\begin{align*}
R &\rightarrow aRa | aRb | bRa | bRb | S\\
S &\rightarrow aTb | bTa\\
T &\rightarrow aTa | aTb | bTa | bTb | a | b | \varepsilon\\
\end{align*}

Then $S$:

\begin{align*}
R &\rightarrow aRa | aRb | bRa | bRb | aTb | bTa \\
T &\rightarrow aTa | aTb | bTa | bTb | a | b | \varepsilon\\
\end{align*}

\begin{itemize}
    \item $R$ generates a string to its left and to its right, of the same length using the
''one to the left, one to the right'' method.
    \item Importantly, when it changes into $T$, only two transitions are allowed: where the generated characters are different.
    \item Then, $T$ continues generating a string to its left and to its right, of the same length using the ''one to the left, one to the right'' method.
    \item Then it terminates in either $a$, $b$, or $\varepsilon$.
\end{itemize}

This is the opposite of a palindrome generator: due to that transitioning from $R$ to $T$, there must be at least one position where the palindromness of the string is broken. Other positions can be either matching, or non-matching, but there will be at least one, where the characters don't match.

Proof:

Any non-palindrom can be generated with this: since it is a non-palindrom, there is a position where the mirrored position contains the wrong character. Use the first 4 rules until we reach that position, then use the 5th or the 6th rule to move to $T$, then continue using rules 7 to 10, until we are left with a single character (for a string of odd length), then use rule 11 or 12, or no characters (for a string of even length), then use the last rule.

Any palindrom can not be generated, since there is no way to transition $R$ into a $T$ (no position breaks the palindromness), so the generation can never terminate.
