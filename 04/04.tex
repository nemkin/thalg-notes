\subsection{Sessions 4 and 5, Exercise 4}

\lineparagraph{Exercise}

Are the following grammars unambiguous? Are the languages generated by them unambiguous?

a)

\begin{align*}
S \rightarrow& aSa|bSb|aa|bb|a|b
\end{align*}

b)

\begin{align*}
S \rightarrow& TT|U \\
T \rightarrow& 0T|T0|\# \\
U \rightarrow& 0U00|\#
\end{align*}

\lineparagraph{Solution}

a)

The grammar is unambiguous, it generates non-empty string palindromes, for any given palindrome, there is only one possible leftmost derivation for it: we read the input word from left-to-middle and when we see a character $a$ we must use production rule $S \rightarrow aSa$, when we see a $b$ we must use $S \rightarrow bSb$, then we take care of the middle character as we said before. If the palindrome is of odd length, the middle character is generated with rules $S \rightarrow a$ and $S \rightarrow b$, while if the palindrome is of even length, we stop at the last two remaining characters, which are either $aa$ or $bb$ and use production rule $S\rightarrow aa$ or $S\rightarrow bb$ to generate them. 

Since there exists an unambiguous grammar for this language the language itself is unambiguous.

b)

The language of this gammar:

$L_T = \{0^i\#0^j | i,j \geq{} 0\}$

$L_{TT} = \{0^i\#0^j0^k\#0^l | i,j,k,l \geq{} 0\} = \{0^i\#0^m\#0^l | i,m,l \geq{} 0\}$

$L_U = \{0^n\#0^{2n} | n\geq{} 0\}$

$L_S = \{0^i\#0^m\#0^l | i,m,l \geq{} 0\} \cup{} \{0^n\#0^{2n} | n\geq{} 0\}$.

For any given word in the language, if the word contains $1$ $\#$'s, then we must use production rule $S \rightarrow U$ at the beginning, while if the word contains $2$ $\#$'s, then we must use production rule $S \rightarrow TT$ at the beginning, so so far this choice is determined. However, there will be an issue in $L_{TT}$, since the middle zeroes can be generated by either the first or the second $T$ variable, so there will be multiple leftmost derivations for some words in the language (E.g. write two leftmost derivations for the word $0\#0\#0$!). So this grammar is ambiguous.

However, the language is unambigous, and to show this we show a different grammar for the same language that is unambigous.

\begin{align*}
S \rightarrow& N\#N\#N|U \\
N \rightarrow& 0N|\varepsilon \\
U \rightarrow& 0U00|\#
\end{align*}

In this grammar for any given word in the language:

If the word contains $1$ $\#$'s, then we must use production rule $S \rightarrow U$ at the beginning, then we must repeat $U \rightarrow& 0U00$ as many times as there are $0$'s before the $\#$, finally the $U \rightarrow \#$ rule must be used to end the leftmost derivation, there is no other way to generate these types of words.

If the word contains $2$ $\#$'s, then we must use production rule $S \rightarrow N\#N\#N$ at the beginning, then for each individual variable $N$ we must use the rule $N \righarrow 0N$ as many times as there are $0$'s in that section, and finally use $N \rightarrow \varepsilon$ at the end.
