\subsection{Exam: 2022. 05. 30., Exercise 2}

\lineparagraph{Exercise}

Give a context-free grammar for the language

\begin{align*}
L_2 = \{a^{2n}b^{n}c^{m}d^{3m} ~|~ n\geq{}1; m\geq{}0\}
\end{align*}

over alphabet $\{a,b,c,d\}$.

\lineparagraph{Solution}

\begin{itemize}
    \item We can see that the $a^{2n}b^{n}$ part and the $c^{m}d^{3m}$ are independent of each other, so we can introduce two separate variables to generate these.
    \item So we start by $S\rightarrow{}AB$.
    \item $A\rightarrow{}aaAb|aab$ will generate $a^{2n}b^{n}$, using the two to the left, one to the right method and $A\rightarrow{}aab$ makes sure that $n\geq{}1$.
    \item $B\rightarrow{}cBddd|\varepsilon{}$ will generate $c^{m}d^{3m}$ using the similar method and $B\rightarrow{}\varepsilon{}$ specifically makes sure that $m\geq{}0$.
\end{itemize}

So the final CF-grammar is:
\begin{align*}
S\rightarrow{}&AB\\
A\rightarrow{}&aaAb|aab\\
B\rightarrow{}&cBddd|\varepsilon{}
\end{align*}

Notes:
\begin{itemize}
\item Whenever you have to generate something in the form of $a^{i}b^{j}$, where $i$ and $j$ are in some relationship with each other, e.g. $i=j$, $i=2j$, $i<j$, and so on, the only viable way is to use the "one (some) to the right one (some) to the left" method, since this makes sure that in evey generation step, the required relationship always remains true.
\item If we tried to do this using $4$ variables instead of $2$, we will inevitably fail. For example solutions such as this are incorrect:
\begin{align*}
S\rightarrow{}&ABCD\\
A\rightarrow{}&aA|a\\
B\rightarrow{}&bB|b\\
C\rightarrow{}&cC|\varepsilon{}\\
D\rightarrow{}&dD|\varepsilon{}
\end{align*}
\item These rules can generate $a$'s, $b$'s, $c$'s and $d$'s completely independently from each other, so we will never be able to force the requirements $(\#a)=2(\#b)$ and $3(\#c)=(\#d)$. This means we generate a bunch of false positives (words that are not in the language, but get generated by this grammar).
\item A solution such as this is still incorrect:
\begin{align*}
    S\rightarrow{}&ABCD\\
    A\rightarrow{}&aaA|aa\\
    B\rightarrow{}&bB|b\\
    C\rightarrow{}&cC|\varepsilon{}\\
    D\rightarrow{}&dddD|\varepsilon{}
\end{align*}
\item Since this generates the language $a^{2i}b^{j}c^{k}d^{3l}$, but it cannot make sure that $i=j$ and $k=l$, so we will still have a lot of false positives.
\end{itemize}